<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Créer un événement</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><i class="fas fa-user-cog"></i> Organisateur</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" title="Menu de navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" routerLink="/ajouter-evenement" routerLinkActive="active"><i class="fas fa-plus-circle"></i> Ajouter un événement</a></li>
                    <li class="nav-item"><a class="nav-link" routerLink="/gerer-evenements" routerLinkActive="active"><i class="fas fa-tools"></i> Gérer événements</a></li>
                    <li class="nav-item"><a class="nav-link" routerLink="/reserver-ressource" routerLinkActive="active"><i class="fas fa-calendar-check"></i> Réserver ressource</a></li>
                    <li class="nav-item"><a class="nav-link" routerLink="/statistiques" routerLinkActive="active"><i class="fas fa-chart-line"></i> Statistiques</a></li>
                    <li class="nav-item"><a class="nav-link" routerLink="/notifications" routerLinkActive="active"><i class="fas fa-bell"></i> Notifications</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="profilDropdown" role="button" data-bs-toggle="dropdown">
                            {{ nomUtilisateur }} <i class="fas fa-user"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" routerLink="/profil">Gérer son profil</a></li>
                            <li><a class="dropdown-item" href="#" (click)="logout()">Déconnexion</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Contenu Principal -->
    <div class="container mt-5 pt-5">
        <!-- Ajouter une Image -->
        <div class="card p-4 border-danger">
            <h2 class="text-center">Ajouter Images</h2>
            <div class="text-center">
                <label for="upload" class="btn btn-outline-danger w-100 py-5">
                    <i class="fas fa-image fa-3x"></i><br>Ajouter une image
                </label>
                <input type="file" id="upload" class="d-none" (change)="onFileChange($event)">
            </div>
        </div>

        <!-- Aperçu de l'Événement -->
        <div class="card p-4 border-danger mt-4">
            <h2 class="text-center">Aperçu de l'Événement</h2>
            <label for="nom">Nom de l'événement</label>
            <input id="nom" type="text" class="form-control" [(ngModel)]="evenementDTO.nom" 
                   placeholder="Nom de l'événement" title="Nom de l'événement"><br>
            <label for="resume">Résumé</label>
            <input id="resume" type="text" class="form-control" [(ngModel)]="evenementDTO.description" 
                   placeholder="Résumé" title="Résumé de l'événement"><br>
            <label for="categorie">Catégorie</label>
            <select 
              id="categorie"
              class="form-control" 
              [(ngModel)]="evenementDTO.categorie"
              aria-label="Sélectionner une catégorie"
              title="Catégorie de l'événement">
                <option value="SPORTS">SPORTS</option>
                <option value="MUSIQUE">MUSIQUE</option>
                <option value="FETES">FETES</option>
                <option value="RENCONTRES">RENCONTRES</option>
                <option value="AFFAIRES">AFFAIRES</option>
                <option value="ART_DU_SPECTACLE">ART_DU_SPECTACLE</option>
                <option value="LOISIRS">LOISIRS</option>
            </select>
        </div>

        <!-- Date, Lieu et Billetterie -->
        <div class="card p-4 border-danger mt-4">
            <h2 class="text-center">Date, lieu et billetterie</h2>
            <label for="date">Date</label>
            <input id="date" type="date" class="form-control" [(ngModel)]="evenementDTO.date" 
                   title="Date de l'événement"><br>
            <label for="heure">Heure de début</label>
            <input id="heure" type="time" class="form-control" 
                   title="Heure de début de l'événement" 
                   placeholder="HH:MM"><br>
            <label for="lieu">Lieu</label>
            <input id="lieu" type="text" class="form-control" [(ngModel)]="evenementDTO.lieu" 
                   placeholder="Lieu" title="Lieu de l'événement"><br>
            <label for="places">Nombre de places</label>
            <input id="places" type="number" class="form-control" [(ngModel)]="evenementDTO.nombrePlaces" 
                   placeholder="Nombre de places" title="Nombre de places disponibles"><br>
            <button class="btn btn-outline-danger mt-3 w-100" data-bs-toggle="modal" data-bs-target="#billetModal" title="Ajouter des billets">
                <i class="fas fa-ticket-alt"></i> Ajouter Billets
            </button>
        </div>

        <!-- Bouton Créer un événement -->
        <button class="btn btn-danger w-100 mt-4" (click)="onSubmit()" title="Créer l'événement">Créer un événement</button>
    </div>

   
    <!-- Modal Ajouter Billet -->
<div class="modal fade" id="billetModal" tabindex="-1" aria-labelledby="billetModalLabel" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Ajouter un Billet</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer" title="Fermer la fenêtre"></button>
        </div>
        <div class="modal-body">
          <label>Type de billet</label>
          <input id="typeBillet" type="text" class="form-control" placeholder="Type de billet"><br>
          <label>Prix du billet</label>
          <input id="prixBillet" type="number" class="form-control" placeholder="Prix du billet"><br>
          <label>Quantité disponible</label>
          <input id="quantiteBillet" type="number" class="form-control" placeholder="Quantité disponible"><br>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-danger mt-3 w-100" (click)="addBillet()" title="Ajouter un billet">
            <i class="fas fa-ticket-alt"></i> Ajouter Billets
          </button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal" title="Fermer la fenêtre">Fermer</button>
        </div>
      </div>
    </div>
  </div>
      
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>